const MODAL_SHOW_CLASS = "modal-show",
  SLIDE_CURRENT_CLASS = "slide-current",
  SLIDE_CONTROL_CURRENT_CLASS = "slider-controls-bottom__button-current",
  SLIDE_SERVICES_CURRENT_CLASS = "slide-services-current",
  SERVICES_BUTTON_CURRENT_CLASS = "services__button-current",
  feedbackLink = document.querySelector(".contacts__link"),
  feedbackModal = document.querySelector(".modal-feedback"),
  feedbackCloseButton = feedbackModal.querySelector(".modal-close"),
  feedbackForm = feedbackModal.querySelector(".feedback-form"),
  feedbackNameField = feedbackModal.querySelector(".feedback-form__input_type_text"),
  feedbackEmailField = feedbackModal.querySelector(".feedback-form__input_type_email"),
  feedbackMessageField = feedbackModal.querySelector(".feedback-form__textarea");
let isStorageSupport = !0,
  storageName = "",
  storageEmail = "";
try {
  storageName = localStorage.getItem("name"), storageEmail = localStorage.getItem("email")
} catch (e) {
  isStorageSupport = !1
}
feedbackLink.addEventListener("click", function (e) {
  e.preventDefault(), feedbackModal.classList.add("modal-show"), storageName && storageEmail ? (feedbackNameField.value = storageName, feedbackEmailField.value = storageEmail, feedbackMessageField.focus()) : storageName && !storageEmail ? (feedbackNameField.value = storageName, feedbackEmailField.focus()) : (feedbackEmailField.value = storageEmail, feedbackNameField.focus())
}), feedbackCloseButton.addEventListener("click", function (e) {
  e.preventDefault(), feedbackModal.classList.remove("modal-show"), feedbackModal.classList.remove("modal-error")
}), feedbackForm.addEventListener("submit", function (e) {
  feedbackNameField.value && feedbackEmailField.value && feedbackMessageField.value ? isStorageSupport && (localStorage.setItem("name", feedbackNameField.value), localStorage.setItem("email", feedbackEmailField.value)) : (e.preventDefault(), feedbackModal.classList.remove("modal-error"), feedbackModal.offsetWidth = feedbackModal.offsetWidth, feedbackModal.classList.add("modal-error"))
}), window.addEventListener("keydown", function (e) {
  27 === e.keyCode && feedbackModal.classList.contains("modal-show") && (e.preventDefault(), feedbackModal.classList.remove("modal-show"), feedbackModal.classList.remove("modal-error"))
});
const mapLink = document.querySelector(".contacts__image-link"),
  mapModal = document.querySelector(".modal-map"),
  mapCloseButton = mapModal.querySelector(".modal-close");
mapLink.addEventListener("click", function (e) {
  e.preventDefault(), mapModal.classList.add("modal-show")
}), mapCloseButton.addEventListener("click", function (e) {
  e.preventDefault(), mapModal.classList.remove("modal-show")
}), window.addEventListener("keydown", function (e) {
  27 === e.keyCode && mapModal.classList.contains("modal-show") && (e.preventDefault(), mapModal.classList.remove("modal-show"))
});
const slides = document.querySelectorAll(".slider__item"),
  slideButtonBack = document.querySelector(".slider-controls-middle__back"),
  slideButtonNext = document.querySelector(".slider-controls-middle__next"),
  slideButtons = document.querySelectorAll(".slider-controls-bottom__button");
let switchSlides = function () {
  for (let e of slides) e.classList.contains("slide-current") ? e.classList.remove("slide-current") : e.classList.add("slide-current");
  for (let e of slideButtons) e.classList.contains(SLIDE_CONTROL_CURRENT_CLASS) ? e.classList.remove(SLIDE_CONTROL_CURRENT_CLASS) : e.classList.add(SLIDE_CONTROL_CURRENT_CLASS)
};
slideButtonBack.addEventListener("click", function (e) {
  e.preventDefault(), switchSlides()
}), slideButtonNext.addEventListener("click", function (e) {
  e.preventDefault(), switchSlides()
});
for (let e of slideButtons) e.addEventListener("click", function (e) {
  e.preventDefault(), switchSlides()
});
const buttonServicesFirst = document.querySelector(".services__button-first"),
  buttonServicesSecond = document.querySelector(".services__button-second"),
  buttonServicesThird = document.querySelector(".services__button-third"),
  slideServicesFirst = document.querySelector(".slide-services-first"),
  slideServicesSecond = document.querySelector(".slide-services-second"),
  slideServicesThird = document.querySelector(".slide-services-third");
buttonServicesFirst.addEventListener("click", function (e) {
  e.preventDefault(), buttonServicesSecond.classList.remove("services__button-current"), buttonServicesThird.classList.remove("services__button-current"), buttonServicesFirst.classList.add("services__button-current"), slideServicesSecond.classList.remove("slide-services-current"), slideServicesThird.classList.remove("slide-services-current"), slideServicesFirst.classList.add("slide-services-current")
}), buttonServicesSecond.addEventListener("click", function (e) {
  e.preventDefault(), buttonServicesFirst.classList.remove("services__button-current"), buttonServicesThird.classList.remove("services__button-current"), buttonServicesSecond.classList.add("services__button-current"), slideServicesFirst.classList.remove("slide-services-current"), slideServicesThird.classList.remove("slide-services-current"), slideServicesSecond.classList.add("slide-services-current")
}), buttonServicesThird.addEventListener("click", function (e) {
  e.preventDefault(), buttonServicesFirst.classList.remove("services__button-current"), buttonServicesSecond.classList.remove("services__button-current"), buttonServicesThird.classList.add("services__button-current"), slideServicesSecond.classList.remove("slide-services-current"), slideServicesFirst.classList.remove("slide-services-current"), slideServicesThird.classList.add("slide-services-current")
});